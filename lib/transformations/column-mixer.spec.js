'use strict';

const expect = require('chai').expect;
const ColumnMixer = require('./column-mixer');

describe('ColumnMixer', () => {

  describe('#mixBlock', () => {

    it('mixes a block correctly', () => {
      let block = [
        [0xd4, 0xd4, 0xd4, 0xd4],
        [0xbf, 0xbf, 0xbf, 0xbf],
        [0x5d, 0x5d, 0x5d, 0x5d],
        [0x30, 0x30, 0x30, 0x30],
      ];
      let mixedBlock = [
        [0x04, 0x04, 0x04, 0x04],
        [0x66, 0x66, 0x66, 0x66],
        [0x81, 0x81, 0x81, 0x81],
        [0xe5, 0xe5, 0xe5, 0xe5],
      ];
      expect(ColumnMixer.mixBlock(block)).to.eql(mixedBlock);
    })

  })

  describe('#invMixBlock', () => {

    it('mixes a block correctly', () => {
      let block = [
        [0x04, 0x04, 0x04, 0x04],
        [0x66, 0x66, 0x66, 0x66],
        [0x81, 0x81, 0x81, 0x81],
        [0xe5, 0xe5, 0xe5, 0xe5],
      ];
      let mixedBlock = [
        [0xd4, 0xd4, 0xd4, 0xd4],
        [0xbf, 0xbf, 0xbf, 0xbf],
        [0x5d, 0x5d, 0x5d, 0x5d],
        [0x30, 0x30, 0x30, 0x30],
      ];
      expect(ColumnMixer.invMixBlock(block)).to.eql(mixedBlock);
    })

  });

})
